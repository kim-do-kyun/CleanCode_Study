# 5장 형식 맞추기
> 프로그래머라면 형식을 깔끔하게 맞춰 코드를 짜야 한다<br>
> 코드 형식을 맞추기 위한 간단한 규칙을 정하고 그 규칙을 착실히 따라야 한다

#### 형식을 맞추는 목적
* 코드는 형식이 **중요하다**
* **"코드 형식은 의사소통의 일환이다."**

<br>

#### 적절한 행 길이를 유지하라
* 자바에서 파일 크기는 클래스 크기와 밀접하다
* **신문 기사처럼 작성하라**
  * 소스 파일도 신문 기사와 비슷하게 작성한다
  * 이름은 간단하면서도 설명이 가능하게 짓는다
  * 소스파일 첫 부분은 고차원 개념과 알고리즘을 설명한다
  * 아래로 내려갈수록 의도를 세세하게 묘사한다
* **개념은 빈 행으로 분리하라**
  * 각 행은 수식이나 절을 나타내고, 일련의 행 묶음은 완결된 생각 하나를 표현한다
  * 생각 사이는 빈 행을 넣어 분리해야 마땅하다
* **세로 밀집도**
  * 줄바꿈이 개념을 분리한다면 세로 밀집도는 연관성을 의미한다
  * 즉, 서로 밀접한 코드 행은 세로로 가까이 놓여야 한다는 뜻이다
  ```
  public class ReporterConfig {
   /**
    * 리포터 리스너의 클래스 이름
    */
   private String m_className;
  
   /**
    * 리포터 리스너의 속성
    * / 
   private List<Property> m_properties = new ArrayList<Property>();
   public void addProperty(Property property) {
     m_properties.add(property);
   }
  } 
  ```
  * 위의 코드를 아래와 같이 수정해서 더 읽기 쉽게 만듬
  ```
  public class ReporterConfig {
     private String m_className;
     private List<Property> m_properties = new ArrayList<Property>();
     public void addProperty(Property property) {
         m_properties.add(property);
     }
  }
  ```
* **수직 거리**
  * 서로 밀접한 개념은 세로로 가까이 둬야 한다(물론 두 개념이 서로 다른 파일에 속한다면 규칙이 통하지 않는다)
  * 하지만 타당한 근거가 없다면 서로 밀접한 개념은 한 파일에 속해야 마땅하다(이게 바로 protected 변수를 피해야 하는 이유 중 하나)
  * 같은 파일에 속할 정도로 밀접한 두 개념은 세로 거리로 연관성을 표현한다
  * **변수 선언**
    * 변수는 사용하는 위치에 최대한 가까이 선언한다
    * 루프를 제어하는 변수는 흔히 루프 문 내부에 선언한다
    * 아주 드물지만 다소 긴 함수에서 블록 상단이나 루프 직전에 변수를 선언하는 사례도 있다
  * **인스턴스 변수**
    * 인스턴스 변수는 클래스 맨 처음에 선언한다
  * **종속 함수**
    * 한 함수가 다른 함수를 호출한다면 두 함수는 세로로 가까이 배치한다(또한 가능하다면 호출하는 함수를 호출되는 함수보다 먼저 배치한다)
  * **개념적 유사성**
    * 친화도가 높을수록 코드를 가까이 배치한다
* **세로 순서**
  * 일반적으로 함수 호출 종속성은 아래 방향으로 유지한다(호출되는 함수를 호출하는 함수보다 나중에 배치한다)

<br>

#### 가로 형식 맞추기
* **"프로그래머는 명백하게 짧은 행을 선호한다."**
* **가로 공백과 밀집도**
  * 가로로는 공백을 사용해 밀접한 개념과 느슨한 개념을 표현한다
  * 함수 이름과 이어지는 괄호 사이에는 공백을 넣지 않았다. 함수와 인수는 서로 밀접하기 때문이다
* **가로 정렬**
  * (내생각) 교수님이 수업할때 쓰는 변수선언 방식은 구식, 선언문과 할당문을 별도로 정렬하지 않음
* **들여쓰기**
  * 소스 파일은 윤곽도와 계층이 비슷하다
  * 범위로 이뤄진 계층을 표현하기 위해 우리는 코드를 **들여쓴다**
  * 들여쓰는 정도는 계층에서 코드가 자리잡은 수준에 비례한다
  * **들여쓰기 무시하기**
    * if문, 짧은 while문, 짧은 함수에서 들여쓰기 규칙무시하면 안됌
  * **가짜 범위**
    * 빈 while문이나 for문을 접할때 좋지는 않지만 피하지 못할 때는 빈 블록을 올바로 들여쓰고 괄호로 감싼다

<br>

#### 팀 규칙
* 팀은 한 가지 규칙에 합의해야 하고 모든 팀원은 그 규칙을 따라야 한다
* **좋은 소프트웨어 시스템은 읽기 쉬운 문서로 이뤄진다**